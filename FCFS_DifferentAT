#include<stdio.h>
struct Process{
    int pid;
    int at;
    int bt;
    int ct;
    int tat;
    int wt;

};
int main(){
    int n,i,j;
    struct Process p[20],temp;
    int current_time=0;
    float total_wt=0;
    float total_tat=0;
    printf("Enter no. of processes: ");
    scanf("%d",&n);
    for(int i=0;i<n;i++){
        printf("\nProcess%d\n",i+1);
        p[i].pid=i+1;
        printf("Arrival time: ");
        scanf("%d",&p[i].at);
        printf("Burst Time: ");
        scanf("%d",&p[i].bt);
    }
        for(i=0;i<n-1;i++){
            for(j=0;j<n-i-1;j++){
                if(p[j].at>p[j+1].at){
                    temp=p[j];
                    p[j]=p[j+1];
                    p[j+1]=temp;
                }
            }
        }
        for(i=0;i<n;i++){
            if(current_time<p[i].at)
            current_time=p[i].at;
            p[i].ct=current_time+p[i].bt;
            p[i].tat=p[i].ct-p[i].at;
            p[i].wt=p[i].tat-p[i].bt;
            current_time=p[i].ct;
            total_wt +=p[i].wt;
            total_tat+=p[i].tat;
        }
            printf("\nPID\tAT\tBT\tCT\tTAT\tWT\n");
            for(i=0;i<n;i++){
                printf("P%d\t%d\t%d\t%d\t%d\t%d\n",p[i].pid,p[i].at,p[i].bt,p[i].ct,p[i].tat,p[i].wt);
            }
            printf("\nAverage Waiting Time = %.2f",total_wt/n);
            printf("\nAverage Turnaround Time = %.2f",total_tat/n);
            return 0;
        }
